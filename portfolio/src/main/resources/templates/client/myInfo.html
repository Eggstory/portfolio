<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>my Info</title>

    <div th:replace="~{/client/fragments/Head.html :: common-head}" />

    <script src="/assets/client/js/myInfo.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link
      rel="stylesheet"
      href="/assets/client/css/myInfo.css"
      type="text/css"
    />
  </head>
  <body>
    <div class="wrap">
      <div>
        <div id="modal" class="dialog" style="display: none;">
          <div class="tb">
            <div class="inner" style="max-width:800px;">
              <div class="top">
                  <div class="title">개인 정보 수정
                    <span class="wrapper">
                      <input type="checkbox" id="switch" name="visible" th:checked="${checked}" th:value="${member.visible}">
                      <label for="switch" class="switch_label">
                        <span class="onf_btn"></span>
                      </label>
                    </span>
                    <div>
                      <div class="private font-size12 font-color-blue">
                        *비공개상태 입니다.
                      </div>
<!--                      <div class="open font-size12 font-color-blue" th:if="${member.visible eq 'Y'}" style="display: block;">-->
<!--                        *공개상태 입니다.-->
<!--                      </div>-->
                      <div class="font-size12 font-color-red">
                        *저장을 해주셔야 반영됩니다.
                      </div>
                    </div>
                  </div>
                <a href="#" class="close">X</a>
              </div>
              <div class="ct">
                <div>
                  <form class="modify-form">
                    <input type="hidden" name="idx" id="idx" th:value="${member.memberIdx}">
                    <label for="inputName">이름</label>
                    <input type="text" name="name" id="inputName" maxlength="10" minlength="1" th:placeholder="${member.memberName}">
                    <div class="empty-space20"></div>
                    <label for="inputIntroduction">자기소개</label>
                    <textarea class="modify-introduce" type="text" name="introduction" id="inputIntroduction" th:placeholder="${member.introduction}"></textarea>
                  </form>
                  <div class="float-right">
                    <div class="info-btn" id="changePic">사진 변경</div>
                    <div class="info-btn" id="reissuePw">비밀번호 재발급</div>
                    <div class="info-btn" id="deleteAccount">계정 삭제</div>
                  </div>
                  <div class="empty-space"></div>
                  <div class="submit-container">
                    <div class="info-btn" id="editInfo">저장</div>
                    <div class="info-btn close2">취소</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main-container">
        <div class="header">
          <span class="go-back" onclick="location.href='/'">
            ← 뒤로가기</span
          >
        </div>
        <div>
          <div class="profile-background">
            <div class="profile-image"></div>
          </div>
          <div class="edit-profile">
            <button class="btn modify-btn">수정하기</button>
          </div>
          <div class="profile-info">
            <div class="z-index-1">
              <div class="name" id="displayName" th:text="${member.memberName}">이름</div>
              <div class="email font-size15 font-color-gray" id="displayMail" th:text="${member.memberMail}" >이메일주소</div>
            </div>
            <div class="introduce font-size15 font-color-gray" id="displayIntroduction" th:text="${member.introduction}">
              자기 소개자기 소개자기 소개자기 소개자기 소개자기 소개자기
              소개자기 소개자기 소개자기 소개자기 소개자기 소개자기 소개자기
              소개자기 소개자기 소개자기 소개자기 소개자기 소개자기 소개자기
              소개
            </div>
          </div>
        </div>
        <div class="empty-space"></div>
        <div class="table-header">
          <div class="list-tab active">작성글</div>
          <div class="list-tab">작성댓글</div>
        </div>
        <div class="empty-space horizon"></div>
        <div class="display-grid">
          <table>
            <colgroup class="myInfo-col">
              <col class="col1" />
              <col class="col2" />
              <col class="col3" />
              <col class="col4" />
              <col class="col5" />
            </colgroup>
            <thead>
              <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성일</th>
                <th>조회</th>
                <th>추천</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="board : ${board}">
                <td th:text="${board.boardIdx}">111111</td>
                <td
                  th:text="${board.boardTitle}"
                  class="table-title td-href"
                  th:onclick="|location.href='@{/board/view(boardIdx=${board.boardIdx})}'|"
                >
                  드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자드가자
                </td>
                <td
                  th:text="${#temporals.format(board.createDate,'MM/dd HH:mm')}"
                >
                  2025.01.15
                </td>
                <td class="center" th:text="${board.viewCount}">10000</td>
                <td class="center" th:text="${board.likeCount}">1000</td>
              </tr>
            </tbody>
          </table>
          <div class="empty-space"></div>
<!--          <div class="page_wrap">-->
<!--            <div class="page_nation">-->
<!--              <div-->
<!--                class="display-inline"-->
<!--                th:classappend="${!paging.hasPrevious} ? 'disabled'"-->
<!--              >-->
<!--                <a class="arrow pprev" th:href="@{|?search=${keyword}&page=1|}"-->
<!--                  ><<</a-->
<!--                >-->
<!--                <a-->
<!--                  class="arrow prev"-->
<!--                  th:if="${paging.number > 0}"-->
<!--                  th:href="@{|?search=${keyword}&page=${paging.number}|}"-->
<!--                  ><</a-->
<!--                >-->
<!--              </div>-->
<!--              <div-->
<!--                th:each="page: ${#numbers.sequence((paging.number/10)*10, (((paging.number/10)+1)*10)-1)}"-->
<!--                th:if="${(paging.totalPages)/(paging.number+1) >= 1 and paging.totalPages/10 > paging.number/10}"-->
<!--                class="display-inline"-->
<!--              >-->
<!--                <a-->
<!--                  th:text="${page+1}"-->
<!--                  th:href="@{|?search=${keyword}&page=${page+1}|}"-->
<!--                  th:classappend="${page == paging.number} ? 'active'"-->
<!--                ></a>-->
<!--              </div>-->
<!--              <div-->
<!--                th:each="page: ${#numbers.sequence((paging.number/10)*10, paging.totalPages-1)}"-->
<!--                th:if="${(paging.totalPages)/(paging.number+1) >= 1 and paging.totalPages/10 <= paging.number/10} "-->
<!--                class="display-inline"-->
<!--              >-->
<!--                <a-->
<!--                  th:text="${page+1}"-->
<!--                  th:href="@{|?search=${keyword}&page=${page+1}|}"-->
<!--                  th:classappend="${page == paging.number} ? 'active'"-->
<!--                ></a>-->
<!--              </div>-->
<!--              <div-->
<!--                class="display-inline"-->
<!--                th:classappend="${!paging.hasNext} ? 'disabled'"-->
<!--              >-->
<!--                <a-->
<!--                  class="arrow next"-->
<!--                  th:if="${paging.number < paging.totalPages-1}"-->
<!--                  th:href="@{|?search=${keyword}&page=${paging.number+2}|}"-->
<!--                  >></a-->
<!--                >-->
<!--                <a-->
<!--                  class="arrow nnext"-->
<!--                  th:href="@{|?search=${keyword}&page=${paging.totalPages}|}"-->
<!--                  >>></a-->
<!--                >-->
<!--              </div>-->
<!--            </div>-->
<!--            <div class="empty-space"></div>-->
<!--          </div>-->
        </div>
      </div>
      <div class="footer"></div>
    </div>

  <script>

<!--  document.addEventListener("DOMContentLoaded", function () {-->
<!--  fetch("http://localhost:8090/api/myInfo")-->
<!--    .then(response => response.json())-->
<!--    .then(data => {-->
<!--    console.log(data.memberName);-->
<!--    console.log(data.memberMail);-->
<!--    console.log(data.introduction);-->
<!--        document.querySelector("#displayName").textContent = data.memberName;-->
<!--        document.querySelector("#inputName").placeholder = data.memberName;-->
<!--        document.querySelector("#displayMail").textContent = data.memberMail;-->
<!--        document.querySelector("#displayIntroduction").textContent = data.introduction;-->
<!--        document.querySelector("#inputIntroduction").placeholder = data.introduction;-->
<!--    })-->
<!--    .catch(error => console.error("데이터 불러오기 실패:", error));-->
<!--  });-->
  </script>


  </body>
</html>
